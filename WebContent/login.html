<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="utf-8">
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
    <!-- 窗口适应各种设备的代码 -->
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Mono">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="css/material-components-web.css"/>
    <link rel="stylesheet" href="css/login_layout.css"/>
	<title>跟着电影  去旅行</title>
</head>
<body>
    <div class="mdc-layout-grid login_panel">
    <div class="mdc-layout-grid__inner login_grid">
      <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-6-desktop mdc-layout-grid__cell--span-12-tablet mdc-layout-grid__cell--align-middle">

          <section>
              <div class="mdc-card" style="padding: 10%">
              <section class="mdc-card__primary">
                  <h1 class="mdc-card__title mdc-card__title--large">跟着电影去旅行</h1>
              </section>
              <nav class="mdc-tab-bar ">
                  <a class="mdc-tab mdc-tab--active" href="login.html">
                      <i class="material-icons mdc-tab__icon" aria-label="Login">person</i>
                  </a>
                  <a class="mdc-tab " href="signup.jsp">
                      <i class="material-icons mdc-tab__icon" aria-label="SignUp">person_add</i>
                  </a>
              </nav>
                  <div id="login">
                      <h2>登陆</h2>
                  <section class="mdc-card__supporting-text">
                      <form>
                          <section class="mdc-form-field max_width">
                              <div class="mdc-textfield max_width" data-mdc-auto-init="MDCTextfield">
                                  <input type="text" class="mdc-textfield__input" id="lusername" autocomplete="username" name="username">
                                  <label for="lusername" class="mdc-textfield__label">用户名</label>
                              </div>
                          </section>
                          <section class="mdc-form-field max_width">
                              <div class="mdc-textfield max_width" data-mdc-auto-init="MDCTextfield">
                                  <input type="password" class="mdc-textfield__input" id="lpassword" autocomplete="password" name="password">
                                  <label for="lpassword" class="mdc-textfield__label">密码</label>
                              </div>
                          </section>
                      </form>
                  </section>
                  <section class="mdc-card__action" style="text-align: right">
                      <div class="mdc-button mdc-button--primary mdc-ripple-upgraded" data-mdc-auto-init="MDCRipple" onclick="loginPost()">
                          <span>下一步</span>
                      </div>
                  </section>
                  </div>

            </div>
        </section>
      </div>
    </div>
  </div>
   <div id="mdc-snackbar" class="mdc-snackbar demo-hidden" aria-live="assertive" aria-atomic="true" aria-hidden="true">
  <div class="mdc-snackbar__text">Message</div>
  <div class="mdc-snackbar__action-wrapper">
    <button type="button" class="mdc-snackbar__action-button" aria-hidden="true">Action</button>
  </div>
</div>

    <script type="text/javascript" src="js/material-components-web.js"></script>
    <script type="text/javascript">mdc.autoInit()</script>

        <script type="text/javascript">
      function loginPost(){
        var name = $("#lusername").val();
        var password = $("#lpassword").val();
        $.ajax({
            url : "login.action",
            type : "POST",
            data : {
                name,
                password
            },
            success : function(data) {
              SnackbarMsg("登陆成功，即将跳转到主页");
              setTimeout(function(){ window.location.href = "amap.html"; }, 3000);
            },
            error : function() {
              SnackbarMsg("账号或密码错误");
            }
        })

      }

      function SnackbarMsg(message){
        var MDCSnackbar = mdc.snackbar.MDCSnackbar;
        var MDCSnackbarFoundation = mdc.snackbar.MDCSnackbarFoundation;
        var snackbar = new MDCSnackbar(document.querySelector('.mdc-snackbar'));
        var data = {
          message
        };
        snackbar.show(data);
      }
    </script>
</body>
</html>